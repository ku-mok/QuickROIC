(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{363:function(e,n,t){},374:function(e,n,t){"use strict";t.r(n);var a,c,i,r,o=t(0),s=t.n(o),l=t(65),d=t.n(l),u=t(224),m=t(25),j=t(31),b=t(362),O=t(440),x=t(221),p=Object(x.a)({}),f=t(446),h=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=Object(m.f)(),t=Object(o.useMemo)((function(){return[{label:"Home",onClick:function(){return n.push("/")}},{label:"\u65b0\u898f\u5206\u6790",onClick:function(){return n.push("/new")}},{label:"\u30c7\u30fc\u30bf\u78ba\u8a8d",onClick:function(){return n.push("/table")},disabled:!e},{label:"ROIC-WACC\u30b0\u30e9\u30d5",onClick:function(){return n.push("/scatter")},disabled:!e},{label:"ROIC\u30c4\u30ea\u30fc",onClick:function(){return n.push("/tree")},disabled:!e},{label:"\u8868\u793a\u8a2d\u5b9a",onClick:function(){return n.push("/setting")},disabled:!e}]}),[n,e]);return t},y=t(29),v=t(443),k=t(445),g=t(444),N=t(427),C=t(447),S=t(1),w=function(e){var n=Object(m.f)();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(v.a,{position:"sticky",children:Object(S.jsx)(k.a,{children:Object(S.jsx)(f.a,{variant:"h5",onClick:function(){n.push("/")},children:e.children})})}),Object(S.jsx)(g.a,{children:Object(S.jsx)(N.a,{value:e.tabSelected,children:e.tabItems.map((function(e){return Object(S.jsx)(C.a,{label:e.label,disabled:e.disabled,onClick:e.onClick},e.label)}))})})]})},F=t(436),I=t(448),D=function(){return Object(S.jsx)(F.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:Object(S.jsx)(I.a,{color:"inherit"})})},A=t(13),E=t(20),T=t(432),R=t(431),M=function(e){var n,t=Object(o.forwardRef)((function(e,n){return Object(S.jsx)(R.a,Object(E.a)({elevation:6,ref:n,variant:"filled"},e))})),a=Object(o.useState)(!!e.error),c=Object(A.a)(a,2),i=c[0],r=c[1],s=function(e,n){"clickaway"!==n&&r(!1)};return Object(S.jsx)(T.a,{open:i,onClose:s,children:Object(S.jsx)(t,{onClose:s,severity:"error",sx:{width:"100%"},children:null===(n=e.error)||void 0===n?void 0:n.message})})},V=j.d.div(a||(a=Object(y.a)(["\n  margin-top: 1ex;\n  margin-left: 1vw;\n  margin-right: 3vw;\n"]))),B=function(e){return Object(S.jsxs)(S.Fragment,{children:[e.loading&&Object(S.jsx)(D,{}),e.error&&Object(S.jsx)(M,{error:e.error}),Object(S.jsx)(w,{tabItems:e.tabItems,tabSelected:e.tabSelected,children:"QuickRoic"}),Object(S.jsx)(V,{children:e.children})]})},P=t(416),z=t(84),L=t(61),Y=Object(z.c)([]),_=Object(z.c)(!1),U=Object(z.c)([]),W={Query:{fields:{localCompanyData:{read:function(){return Y()}}}}},Q=Object(L.d)(c||(c=Object(y.a)(["\n  extend type Query {\n    localCompanyData: [CompanyData!]!\n  }\n"]))),G=function(){var e=Object(P.a)(_),n=h(e);return Object(S.jsxs)(B,{tabItems:n,tabSelected:0,children:[Object(S.jsx)(f.a,{variant:"h4",component:"h2",children:"QuickRoic\u3068\u306f"}),Object(S.jsx)("p",{children:"SPEEDA\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30c7\u30fc\u30bf\u3092\u5143\u306bROIC\u5206\u6790\u3092\u7c21\u5358\u306b\u884c\u3046\u305f\u3081\u306e\u30c4\u30fc\u30eb\u3067\u3059\u3002\u30d6\u30e9\u30a6\u30b6\u4e0a\u3067ROIC\u30c4\u30ea\u30fc\u306a\u3069\u306e\u5206\u6790\u7d50\u679c\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3060\u3051\u3067\u306a\u304f\u3001\u5206\u6790\u7d50\u679c\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u8cc7\u6599\u306b\u4f7f\u3063\u305f\u308a\u3001CSV\u3067\u51fa\u529b\u3057\u3066\u30ed\u30fc\u30ab\u30eb\u3067\u3055\u3089\u306a\u308b\u5206\u6790\u3092\u884c\u3046\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059"}),Object(S.jsx)(f.a,{variant:"h4",component:"h2",children:"\u4f7f\u3044\u65b9"}),Object(S.jsxs)("ol",{children:[Object(S.jsx)("li",{children:Object(S.jsxs)("dl",{children:[Object(S.jsx)("dt",{children:"SPEEDA\u304b\u3089\u30c7\u30fc\u30bf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b"}),Object(S.jsxs)("dd",{children:["SPEEDA\u306e\u300c\u4f01\u696d\u3092\u63a2\u3059\u300d\u6a5f\u80fd\u3092\u7528\u3044\u3066\u30c7\u30fc\u30bf\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002\u691c\u7d22\u6761\u4ef6\u3092\u6307\u5b9a\u3057\u3066\u691c\u7d22\u3092\u5b9f\u884c\u2192\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u30a8\u30af\u30bb\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002ROIC\u5206\u6790\u3092\u884c\u3046\u305f\u3081\u306b\u5fc5\u8981\u306a\u52d8\u5b9a\u79d1\u76ee\u306f \u300c\u58f2\u4e0a\u9ad8\u5408\u8a08\u300d \u300c\u6295\u4e0b\u8cc7\u672c\u300d \u300c\u73fe\u91d1\u53ca\u3073\u73fe\u91d1\u540c\u7b49\u7269\u300d \u300cNOPAT\u300d \u300c\u8ca9\u58f2\u8cbb\u53ca\u3073\u4e00\u822c\u7ba1\u7406\u8cbb\u300d \u300c\u58f2\u4e0a\u539f\u4fa1\u300d \u300c\u58f2\u4e0a\u50b5\u6a29\u300d \u300c\u68da\u5378\u8cc7\u7523\u300d \u300c\u8cb7\u5165\u50b5\u52d9\u300d \u300c\u56fa\u5b9a\u8cc7\u7523\u300d \u300cLevered \u03b2(\u4efb\u610f\u306e\u671f\u9593\u3001 \u76f4\u8fd13\u5e74(\u9031\u6b21)\u3042\u305f\u308a\u3092\u63a8\u5968\uff09\u300d \u300c\u6709\u5229\u5b50\u8ca0\u50b5\u6b8b\u9ad8\u300d \u300c\u652f\u6255\u5229\u606f\u5272\u5f15\u6599\u300d \u300c\u4f01\u696d\u4fa1\u5024\u300d \u300c\u6642\u4fa1\u7dcf\u984d(\u81ea\u5df1\u682a\u5f0f\u8abf\u6574\u5f8c)\u300d\u3067\u3059\u3002\u691c\u7d22\u6761\u4ef6\u3092\u6307\u5b9a\u3057\u305f\u72b6\u614b\u306eURL\u306f"," ",Object(S.jsx)("a",{href:"https://www.ub-speeda.com/search/company/searchcompany/path/11b51eac-9ff8-48b4-9969-debc582e9077",target:"_blank",rel:"noreferrer",children:"\u305d\u306e1"}),"\u304a\u3088\u3073",Object(S.jsx)("a",{href:"https://www.ub-speeda.com/search/company/searchcompany/path/071a9639-05b2-44f3-ab73-abafbbe9074e",target:"_blank",rel:"noreferrer",children:"\u305d\u306e2"}),"\u3067\u3059\u3002\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u5834\u5408\u306f\u4e00\u5ea6SPEEDA\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u306a\u304a\u3057\u3066\u304f\u3060\u3055\u3044\u3002SPEEDA\u306e\u4ed5\u69d8\u4e0a\u5e74\u5ea6\xd7\u52d8\u5b9a\u79d1\u76ee\u6570\u304c100\u306b\u5236\u9650\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u30012\u3064\u306b\u5206\u304b\u308c\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001B/S\u7cfb\u306e\u6307\u6a19\u306f\u5e73\u6b8b\u3092\u7528\u3044\u3066\u8a08\u7b97\u3059\u308b\u305f\u3081\u3001\u958b\u59cb\u671f\u9593\u306f\u5206\u6790\u3057\u305f\u3044\u958b\u59cb\u5e74\u5ea6-1\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002LTM\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\uff08\u03b2\u3092\u6c42\u3081\u308b\u305f\u3081\uff09\u3002"]})]})}),Object(S.jsxs)("li",{children:[Object(S.jsx)("dt",{children:"\u30c7\u30fc\u30bf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b"}),Object(S.jsx)("dd",{children:"\u65b0\u898f\u5206\u6790\u30bf\u30d6\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u300c\u5206\u6790\u5bfe\u8c61\u306e\u30d5\u30a1\u30a4\u30eb\u3092\uff5e\u300d\u3068\u66f8\u304b\u308c\u305f\u9818\u57df\u306b\u5148\u307b\u3069\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u30a8\u30af\u30bb\u30eb\u3092\u30c9\u30e9\u30c3\u30b0\u30a2\u30f3\u30c9\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u3082\u3057\u304f\u306f\u30af\u30ea\u30c3\u30af\u3057\u3066\u8868\u793a\u3055\u308c\u305f\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u9078\u629e\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c\u300c\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u5206\u6790\u3092\u5b9f\u65bd\u300d\u3092\u62bc\u4e0b\u3057\u307e\u3059\u3002\u3046\u307e\u304f\u3044\u3051\u3070\u30c7\u30fc\u30bf\u78ba\u8a8d\u753b\u9762\u306b\u9077\u79fb\u3057\u307e\u3059"})]}),Object(S.jsx)("li",{children:Object(S.jsxs)("dl",{children:[Object(S.jsx)("dt",{children:"\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3059\u308b"}),Object(S.jsx)("dd",{children:"\u30c7\u30fc\u30bf\u78ba\u8a8d\u30bf\u30d6\u3067\u306f\u751f\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002DOWNLOAD AS CSV\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3067CSV\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"})]})}),Object(S.jsx)("li",{children:Object(S.jsxs)("dl",{children:[Object(S.jsx)("dt",{children:"\u5404\u7a2e\u30b0\u30e9\u30d5\u3092\u78ba\u8a8d\u3059\u308b"}),Object(S.jsx)("dd",{children:"ROIC-WACC\u30b0\u30e9\u30d5\u304a\u3088\u3073ROIC\u30c4\u30ea\u30fc\u30bf\u30d6\u3067\u5206\u6790\u7d50\u679c\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u30b0\u30e9\u30d5\u306b\u30ab\u30fc\u30bd\u30eb\u3092\u5408\u308f\u305b\u3066\u53f3\u4e0a\u306b\u51fa\u3066\u304f\u308b\u30ab\u30e1\u30e9\u30de\u30fc\u30af\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u753b\u50cf\u3067\u30b0\u30e9\u30d5\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059"})]})}),Object(S.jsx)("li",{children:Object(S.jsxs)("dl",{children:[Object(S.jsx)("dt",{children:"\u4f01\u696d\u306e\u8868\u793a\u8a2d\u5b9a\u3092\u884c\u3046"}),Object(S.jsx)("dd",{children:"\u8272\u3092\u5909\u3048\u305f\u3044\u3001\u4f01\u696d\u3092\u30d5\u30a3\u30eb\u30bf\u3057\u305f\u3044\u306a\u3069\u306e\u5834\u5408\u306f\u8868\u793a\u8a2d\u5b9a\u30bf\u30d6\u3092\u4f7f\u3044\u307e\u3059\u3002\u4f01\u696d\u540d\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u8272\u3092\u5909\u66f4\u3067\u304d\u307e\u3059\u3002\u4f01\u696d\u540d\u53f3\u306e\u76ee\u30a2\u30a4\u30b3\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u8868\u793a\u30fb\u975e\u8868\u793a\u3092\u5207\u308a\u66ff\u3048\u307e\u3059\u3002"})]})})]})]})},J=t(85),q=t.n(J),H=t(128),K=t(17),X=t(59),Z=t(441),$=t(450),ee=function(e){return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)($.a,{variant:"contained",color:e.successText?"success":e.errorText?"error":"primary",disabled:e.disable||e.loading,onClick:e.handleButtonClick,fullWidth:!0,children:[e.loading&&Object(S.jsx)(I.a,{size:24}),!e.loading&&!e.successText&&!e.errorText&&e.children,e.successText,e.errorText]})})},ne=t(222),te=Object(j.d)(g.a)(i||(i=Object(y.a)(["\n  height: 50vh;\n  margin: 1ex auto;\n"]))),ae=j.d.div(r||(r=Object(y.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]))),ce=function(e){var n=Object(ne.a)({accept:".xlsx",onDropAccepted:function(n){return e.setAcceptedFiles(n)}}),t=n.getRootProps,a=n.getInputProps,c=t(),i=c.ref,r=Object(X.a)(c,["ref"]);return Object(S.jsx)("div",{ref:i,children:Object(S.jsxs)(te,Object(E.a)(Object(E.a)({},r),{},{elevation:3,children:[Object(S.jsx)("input",Object(E.a)(Object(E.a)({},a()),{},{"data-testid":"dropzone"})),0===e.acceptedFiles.length?Object(S.jsx)(ae,{children:"\u5206\u6790\u5bfe\u8c61\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30c9\u30e9\u30c3\u30b0\u30a2\u30f3\u30c9\u30c9\u30ed\u30c3\u30d7\u3059\u308b\u304b\u30af\u30ea\u30c3\u30af\u3057\u3066\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}):Object(S.jsx)(ae,{children:Object(S.jsx)("ol",{children:e.acceptedFiles.map((function(e){return Object(S.jsx)("li",{children:e.name},e.name)}))})})]}))})},ie=function(e){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ce,{acceptedFiles:e.acceptedFiles,setAcceptedFiles:e.setAcceptedFiles}),Object(S.jsx)(ee,{successText:e.successText,errorText:e.errorText,loading:e.loading,disable:0===e.acceptedFiles.length,handleButtonClick:e.handleUpload,children:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u5206\u6790\u3092\u5b9f\u65bd"})]})},re={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UploadExcel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"files"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Upload"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uploadSpeedaExcel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"files"},value:{kind:"Variable",name:{kind:"Name",value:"files"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"companyData"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"companyName"}},{kind:"Field",name:{kind:"Name",value:"metrics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"metricsName"}},{kind:"Field",name:{kind:"Name",value:"metricsValues"}},{kind:"Field",name:{kind:"Name",value:"metricsYears"}}]}}]}}]}}]}}]},oe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetLocalData"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"localCompanyData"},directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"companyName"}},{kind:"Field",name:{kind:"Name",value:"metrics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"metricsName"}},{kind:"Field",name:{kind:"Name",value:"metricsValues"}},{kind:"Field",name:{kind:"Name",value:"metricsYears"}}]}}]}}]}}]},se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"calcRoicWacc"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"CompanyDataInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"calcDrivers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"companyName"}},{kind:"Field",name:{kind:"Name",value:"metrics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"metricsName"}},{kind:"Field",name:{kind:"Name",value:"metricsValues"}},{kind:"Field",name:{kind:"Name",value:"metricsYears"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"calcRoic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"companyName"}},{kind:"Field",name:{kind:"Name",value:"metrics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"metricsName"}},{kind:"Field",name:{kind:"Name",value:"metricsValues"}},{kind:"Field",name:{kind:"Name",value:"metricsYears"}}]}}]}}]}}]},le=function(e){var n=Object(P.a)(_),t=h(n);return Object(S.jsx)(B,{tabItems:t,tabSelected:1,children:Object(S.jsx)(ie,Object(E.a)({},e))})},de=function(){var e,n,t=Object(o.useState)([]),a=Object(A.a)(t,2),c=a[0],i=a[1],r=Object(m.f)(),s=Object(Z.a)(re,{onCompleted:function(e){var n,t=null===(n=e.uploadSpeedaExcel)||void 0===n?void 0:n.companyData.map((function(e){e.__typename;var n=Object(X.a)(e,["__typename"]),t=e.metrics,a=(t.__typename,Object(X.a)(t,["__typename"]));return n.metrics=a,n}));Y(t),_(!0);var a=["#4E79A7","#A0CBE8","#F28E2B","#FFBE7D","#59A14F","#8CD17D","#B6992D","#F1CE63","#499894","#86BCB6","#E15759","#FF9D9A","#79706E","#BAB0AC","#D37295","#FABFD2","#B07AA1","#D4A6C8","#9d7660","#D7B5A6"];U(Object(K.a)(new Set(null===t||void 0===t?void 0:t.map((function(e){return e.companyName})))).map((function(e,n){return{name:e,visibility:!0,color:a[n%a.length]}}))),console.info(t),window.setTimeout((function(){return r.push("/table")}),800)},onError:function(e){console.error(e.message)}}),l=Object(A.a)(s,2),d=l[0],u=l[1],j=u.data,b=u.loading,O=u.error,x=function(){var e=Object(H.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({variables:{files:c}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(le,{acceptedFiles:c,setAcceptedFiles:i,handleUpload:x,successText:!O&&j?"".concat(new Set(null===j||void 0===j||null===(e=j.uploadSpeedaExcel)||void 0===e||null===(n=e.companyData)||void 0===n?void 0:n.map((function(e){return e.companyName}))).size,"\u793e\u306e\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u53d6\u308a\u307e\u3057\u305f\u3002\u30c7\u30fc\u30bf\u78ba\u8a8d\u753b\u9762\u306b\u9077\u79fb\u3057\u307e\u3059\u3002"):void 0,loading:b,errorText:O?"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f(".concat(O.message,")\u3002\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u306e\u4e0a\u89e3\u6c7a\u3057\u306a\u3044\u5834\u5408\u306f\u9023\u7d61\u3092\u304f\u3060\u3055\u3044\u3002"):void 0})},ue=function(){var e=Object(o.useState)(!1),n=Object(A.a)(e,2),t=n[0],a=n[1];return{modalOpen:t,handleModalOpen:function(){return a(!0)},handleModalClose:function(){return a(!1)}}},me=t(433),je=function(e){var n=Object(o.useState)([]),t=Object(A.a)(n,2),a=t[0],c=t[1];Object(me.a)(oe,{onCompleted:function(){var n=Object(H.a)(q.a.mark((function n(t){var a;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.localCompanyData,c(a),n.next=4,r({data:a});case 4:e&&e(a);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()});var i=Object(me.a)(se,{variables:{data:[]},onCompleted:function(e){c((function(n){return[].concat(Object(K.a)(n),Object(K.a)(e.calcRoic),Object(K.a)(e.calcDrivers)).sort((function(e,n){return e.companyName===n.companyName?0:e.companyName>n.companyName?1:-1}))}))},onError:function(e){return console.error(e)}}),r=i.refetch;return{data:a,loading:i.loading,error:i.error}},be=t(223),Oe=t(214),xe=t.n(Oe),pe=t(6);function fe(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=["\u4f01\u696d\u540d\u79f0","\u5e74\u5ea6"].concat(Object(K.a)(new Set(e.map((function(e){return e.metrics.metricsName}))))).map((function(e){return{key:e,name:e}}));return n?t.filter((function(e){return!Object(K.a)(n).includes(e.key)})):t}function he(e,n,t,a,c){var i=Object(K.a)(new Set(e.map((function(e){return e.companyName})))),r=e.filter((function(e){return e.metrics.metricsName===n})).reduce((function(e,n){return e.set(n.companyName,n.metrics.metricsValues[a])}),new Map),o=e.filter((function(e){return e.metrics.metricsName===t})).reduce((function(e,n){return e.set(n.companyName,n.metrics.metricsValues[a])}),new Map);return i.map((function(e){return{x:[r.get(e)],y:[o.get(e)],type:"scatter",mode:"text+markers",name:e,text:e,textposition:"top center",marker:{size:15,color:c[e]}}}))}var ye,ve,ke,ge=t(419),Ne=t(420),Ce=t(417),Se=t(418),we=t(429),Fe=t(451),Ie=t(430),De=t(452),Ae=t(453),Ee=j.d.div(ye||(ye=Object(y.a)(["\n  background-color: white;\n  position: absolute;\n  top: 30%;\n  left: 50%;\n  transform: translate(-50%, -30%);\n  width: 50%;\n  max-height: 50%;\n  overflow: scroll;\n"]))),Te=j.d.div(ve||(ve=Object(y.a)(["\n  display: flex;\n  column-gap: 10px;\n  align-items: center;\n"]))),Re=function(e){var n=Object(o.useCallback)((function(){e.handleFilterChange(e.columns)}),[e]),t=Object(o.useCallback)((function(){e.handleFilterChange([])}),[e]);return Object(S.jsx)(we.a,{open:e.open,onClose:e.onClose,children:Object(S.jsxs)(Ee,{children:[Object(S.jsxs)(Te,{children:[Object(S.jsx)(f.a,{children:"\u8868\u793a\u3059\u308b\u30ab\u30e9\u30e0\u3092\u9078\u629e"}),Object(S.jsx)($.a,{variant:"contained",onClick:t,children:"\u5168\u9078\u629e"}),Object(S.jsx)($.a,{variant:"contained",onClick:n,children:"\u5168\u89e3\u9664"})]}),Object(S.jsx)(Fe.a,{children:e.columns.map((function(n){return Object(S.jsxs)(Ie.a,{onClick:function(t){return e.handleFilterChange(n)},children:[Object(S.jsx)(De.a,{children:e.filter&&e.filter.includes(n)?Object(S.jsx)(Ce.a,{}):Object(S.jsx)(Se.a,{})}),Object(S.jsx)(Ae.a,{primary:n})]},n)}))})]})})};var Me=j.d.div(ke||(ke=Object(y.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin: 10px 0;\n  column-gap: 10px;\n"]))),Ve=function(){var e=h(),n=je((function(e){return j(new Set(e.map((function(e){return e.companyName}))))})),t=n.data,a=n.loading,c=n.error,i=ue(),r=i.modalOpen,s=i.handleModalOpen,l=i.handleModalClose,d=Object(o.useState)(new Set),u=Object(A.a)(d,2),m=u[0],j=u[1],b=Object(o.useMemo)((function(){return function(e){var n=new Map(Object(K.a)(new Set(e.flatMap((function(e){return e.metrics.metricsYears.reduce((function(n,t){return[].concat(Object(K.a)(n),[JSON.stringify({year:t,companyName:e.companyName})])}),[])})))).map((function(e){return[e,[]]})));e.forEach((function(e){return e.metrics.metricsYears.forEach((function(t,a){var c;null===(c=n.get(JSON.stringify({year:t,companyName:e.companyName})))||void 0===c||c.push(Object(pe.a)({},e.metrics.metricsName,e.metrics.metricsValues[a]))}))}));var t=[];return n.forEach((function(e,n){var a=e.reduce((function(e,n){return Object.assign(e,n)}),{}),c=JSON.parse(n);Object.assign(a,{"\u4f01\u696d\u540d\u79f0":c.companyName,"\u5e74\u5ea6":c.year}),t.push(a)})),t}(t)}),[t]),O=Object(o.useMemo)((function(){return fe(t).filter((function(e){return"\u4f01\u696d\u540d\u79f0"!==e.key&&"\u5e74\u5ea6"!==e.key}))}),[t]),x=Object(o.useState)(),p=Object(A.a)(x,2),f=p[0],y=p[1],v=Object(o.useMemo)((function(){return fe(t,f)}),[f,t]);return Object(S.jsxs)(B,{tabItems:e,tabSelected:2,loading:a,error:c,children:[Object(S.jsx)(Re,{handleFilterChange:function(e){y("string"===typeof e?function(n){return n?n.includes(e)?n.filter((function(n){return n!==e})):[].concat(Object(K.a)(n),[e]):[e]}:e)},open:r,columns:O.map((function(e){return e.name})),filter:f,onClose:l}),Object(S.jsxs)(Me,{children:[Object(S.jsx)($.a,{startIcon:Object(S.jsx)(ge.a,{}),variant:"contained",color:"secondary",onClick:s,children:"\u8868\u793a\u30ab\u30e9\u30e0\u306e\u8a2d\u5b9a"}),Object(S.jsx)($.a,{startIcon:Object(S.jsx)(Ne.a,{}),variant:"contained",onClick:function(){var e=function(e,n){return[n.map((function(e){return e.key})).join(",")].concat(Object(K.a)(e.map((function(e){return n.reduce((function(n,t){return n+(e[t.key]+",")}),"").slice(0,-1)})))).join("\n")}(b,v),n=new Uint8Array([239,187,191]),t=new Blob([n,e],{type:"text/csv"}),a=window.URL.createObjectURL(t),c=document.createElement("a");c.href=a,c.download="QuickRoicOutput.csv",c.click(),c.remove()},children:"Download As CSV"})]}),Object(S.jsx)(be.a,{rows:b,columns:v,style:{height:"75vh"},groupBy:["\u4f01\u696d\u540d\u79f0"],rowGrouper:xe.a,className:"rdg-light",expandedGroupIds:m,onExpandedGroupIdsChange:j,defaultColumnOptions:{resizable:!0}})]})},Be=t(97),Pe=t.n(Be),ze=t(437),Le=t(438),Ye=t(454),_e=t(449),Ue=t(421),We=t(422),Qe=function(){var e=h(),n=Object(o.useState)(0),t=Object(A.a)(n,2),a=t[0],c=t[1],i=function(e,n){var t=Object(o.useState)(!1),a=Object(A.a)(t,2),c=a[0],i=a[1],r=Object(o.useState)(void 0),s=Object(A.a)(r,2),l=s[0],d=s[1],u=Object(o.useCallback)((function(){if(!c){var t=window.setInterval(e,n);i(!0),d(t)}}),[e,n,c]),m=Object(o.useCallback)((function(){window.clearInterval(l),i(!1),d(void 0)}),[l]),j=Object(o.useCallback)((function(){c?m():u()}),[c,u,m]);return{isActive:c,startInterval:u,stopInterval:m,toggleInterval:j}}((function(){c((function(e){return e===d[0].metrics.metricsYears.length-2?0:e+1}))}),1e3),r=i.isActive,s=i.toggleInterval,l=je((function(e){c(e[0].metrics.metricsYears.length-2)})),d=l.data,u=l.loading,m=l.error,j=Object(P.a)(U),b=Object(o.useMemo)((function(){return j.reduce((function(e,n){return Object.assign(e,Object(pe.a)({},n.name,n.color))}),{})}),[j]),O=Object(o.useMemo)((function(){return j.reduce((function(e,n){return Object.assign(e,Object(pe.a)({},n.name,n.visibility))}),{})}),[j]),x=Object(o.useMemo)((function(){return he(d.filter((function(e){return O[e.companyName]})),"ROIC","WACC",a,b)}),[b,O,d,a]),p=Object(o.useMemo)((function(){return he(d.filter((function(e){return O[e.companyName]})),"NOPAT\u30de\u30fc\u30b8\u30f3","\u6295\u4e0b\u8cc7\u672c\u56de\u8ee2\u7387",a,b)}),[b,O,d,a]),y={display:"flex",justifyContent:"center"};return Object(S.jsx)(B,{tabItems:e,tabSelected:3,loading:u,error:m,children:d&&d.length>0&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(ze.a,{container:!0,sx:y,children:[Object(S.jsx)(ze.a,{item:!0,md:6,sm:12,sx:y,children:Object(S.jsx)(Pe.a,{data:x,layout:{showlegend:!1,title:{text:"WACC-ROIC\u30d7\u30ed\u30c3\u30c8"},xaxis:{title:"ROIC",rangemode:"tozero",tickformat:",.1%"},yaxis:{title:"WACC",rangemode:"tozero",tickformat:",.1%"},shapes:[{type:"line",x0:0,y0:0,x1:.2,y1:.2,xref:"x",yref:"y",line:{width:1,dash:"dot"}}]}})}),Object(S.jsx)(ze.a,{item:!0,md:6,sm:12,sx:y,children:Object(S.jsx)(Pe.a,{data:p,layout:{showlegend:!1,title:{text:"NOPAT\u30de\u30fc\u30b8\u30f3-\u6295\u4e0b\u8cc7\u672c\u56de\u8ee2\u7387\u30d7\u30ed\u30c3\u30c8"},xaxis:{title:"NOPAT\u30de\u30fc\u30b8\u30f3",rangemode:"tozero",tickformat:",.1%"},yaxis:{title:"\u6295\u4e0b\u8cc7\u672c\u56de\u8ee2\u7387",rangemode:"tozero",tickformat:",.1%"}}})})]}),Object(S.jsxs)(ze.a,{container:!0,sx:{columnGap:2,alignItems:"center"},children:[Object(S.jsx)(f.a,{variant:"body1",sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:"\u8868\u793a\u5e74\u5ea6"}),Object(S.jsx)(Le.a,{color:"primary",value:d[0].metrics.metricsYears[a+1],children:d[0].metrics.metricsYears.filter((function(e,n){return 0!==n})).map((function(e,n){return Object(S.jsx)(Ye.a,{value:e,onClick:function(){c(n)},children:e},e)}))}),Object(S.jsx)(_e.a,{color:"primary",onClick:function(){return s()},children:r?Object(S.jsx)(Ue.a,{}):Object(S.jsx)(We.a,{})})]})]})})},Ge=function(){var e=h(),n=je(),t=n.data,a=n.loading,c=n.error,i=Object(P.a)(U),r=Object(o.useMemo)((function(){return i.reduce((function(e,n){return Object.assign(e,Object(pe.a)({},n.name,n.color))}),{})}),[i]),s=Object(o.useMemo)((function(){return i.reduce((function(e,n){return Object.assign(e,Object(pe.a)({},n.name,n.visibility))}),{})}),[i]),l=Object(o.useMemo)((function(){return function(e,n){var t={ROIC:{xaxis:"x",yaxis:"y"},"\u6295\u4e0b\u8cc7\u672c\u56de\u8ee2\u7387":{xaxis:"x2",yaxis:"y2"},"NOPAT\u30de\u30fc\u30b8\u30f3":{xaxis:"x2",yaxis:"y3"},"\u56fa\u5b9a\u8cc7\u7523\u56de\u8ee2\u7387":{xaxis:"x3",yaxis:"y4"},"\u904b\u8ee2\u8cc7\u672c\u56de\u8ee2\u7387":{xaxis:"x3",yaxis:"y5"},"\u8ca9\u7ba1\u8cbb\u7387":{xaxis:"x3",yaxis:"y6"},"\u58f2\u4e0a\u539f\u4fa1\u7387":{xaxis:"x3",yaxis:"y7"}};return["ROIC","\u6295\u4e0b\u8cc7\u672c\u56de\u8ee2\u7387","NOPAT\u30de\u30fc\u30b8\u30f3","\u56fa\u5b9a\u8cc7\u7523\u56de\u8ee2\u7387","\u904b\u8ee2\u8cc7\u672c\u56de\u8ee2\u7387","\u8ca9\u7ba1\u8cbb\u7387","\u58f2\u4e0a\u539f\u4fa1\u7387"].flatMap((function(a){return e.filter((function(e){return e.metrics.metricsName===a})).map((function(e){return{x:e.metrics.metricsYears,y:e.metrics.metricsValues,type:"scatter",mode:"lines+markers",name:e.companyName,legendgroup:e.companyName,showlegend:"ROIC"===e.metrics.metricsName,xaxis:t[e.metrics.metricsName].xaxis,yaxis:t[e.metrics.metricsName].yaxis,marker:{color:n[e.companyName]}}}))}))}(t.filter((function(e){return s[e.companyName]})),r)}),[r,s,t]);return Object(S.jsx)(B,{tabItems:e,tabSelected:4,loading:a,error:c,children:t&&Object(S.jsx)(Pe.a,{style:{width:"100%",height:"80vh"},data:l,layout:{annotations:[{text:"ROIC",showarrow:!1,align:"center",x:.135,y:1.1,xref:"paper",yref:"paper"},{text:"NOPAT\u30de\u30fc\u30b8\u30f3",showarrow:!1,align:"center",x:.5,y:1.1,xref:"paper",yref:"paper"},{text:"\u6295\u4e0b\u8cc7\u672c\u56de\u8ee2\u7387",showarrow:!1,align:"center",x:.5,y:.5,xref:"paper",yref:"paper"},{text:"\u58f2\u4e0a\u539f\u4fa1\u7387",showarrow:!1,x:.868,y:1.1,xref:"paper",yref:"paper"},{text:"\u8ca9\u7ba1\u8cbb\u7387",showarrow:!1,x:.865,y:.82,xref:"paper",yref:"paper"},{text:"\u904b\u8ee2\u8cc7\u672c\u56de\u8ee2\u7387",showarrow:!1,align:"center",x:.88,y:.5,xref:"paper",yref:"paper"},{text:"\u56fa\u5b9a\u8cc7\u7523\u56de\u8ee2\u7387",showarrow:!1,align:"center",x:.88,y:.2,xref:"paper",yref:"paper"}],xaxis:{domain:[0,.3],anchor:"y"},xaxis2:{domain:[.35,.65],anchor:"y2"},xaxis3:{domain:[.7,1],anchor:"y4"},yaxis:{domain:[0,1],tickformat:",.0%",anchor:"x"},yaxis2:{domain:[0,.45],anchor:"x2"},yaxis3:{domain:[.55,1],tickformat:",.0%",anchor:"x2"},yaxis4:{domain:[0,.175],anchor:"x3"},yaxis5:{domain:[.275,.45],anchor:"x3"},yaxis6:{domain:[.585,.76],tickformat:",.0%",anchor:"x3"},yaxis7:{domain:[.825,1],tickformat:",.0%",anchor:"x3"},showlegend:!0,legend:{orientation:"h"}},config:{responsive:!1}})})},Je=t(423),qe=t(424),He=t(439),Ke=t(220);var Xe=function(e){var n=ue(),t=n.modalOpen,a=n.handleModalOpen,c=n.handleModalClose,i=Object(o.useState)("#ffffff"),r=Object(A.a)(i,2),s=r[0],l=r[1],d=Object(o.useState)(0),u=Object(A.a)(d,2),m=u[0],j=u[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Fe.a,{children:e.companies.map((function(e,n){return Object(S.jsx)(Ie.a,{children:Object(S.jsx)(He.a,{label:e.name,onClick:function(){a(),l(e.color),j(n)},onDelete:function(){return e.setVisibility(!e.visibility)},deleteIcon:e.visibility?Object(S.jsx)(Je.a,{}):Object(S.jsx)(qe.a,{}),sx:{background:e.visibility?e.color:"silver",color:e.visibility?(t=e.color,(299*parseInt(t.substr(1,2),16)+587*parseInt(t.substr(3,2),16)+114*parseInt(t.substr(5,2),16))/1e3<128?"white":"black"):"black"}})},e.name);var t}))}),Object(S.jsx)(we.a,{open:t,onClose:c,children:Object(S.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:Object(S.jsx)(Ke.a,{color:s,onChange:function(n,t){l(n.hex),e.companies[m].setColor(n.hex)}})})})]})},Ze=function(){var e=h(!0),n=function(){var e=Object(P.a)(U);return Object(o.useMemo)((function(){return e.map((function(n,t){return Object(E.a)({setColor:function(a){U([].concat(Object(K.a)(e.slice(0,t)),[Object(E.a)(Object(E.a)({},n),{},{color:a})],Object(K.a)(t===e.length-1?[]:e.slice(t+1))))},setVisibility:function(a){U([].concat(Object(K.a)(e.slice(0,t)),[Object(E.a)(Object(E.a)({},n),{},{visibility:a})],Object(K.a)(t===e.length-1?[]:e.slice(t+1))))}},n)}))}),[e])}();return Object(S.jsxs)(B,{tabItems:e,tabSelected:5,children:[Object(S.jsx)(f.a,{variant:"h6",children:"\u4f01\u696d\u306e\u8868\u793a\u8a2d\u5b9a"}),Object(S.jsx)(Xe,{companies:n})]})},$e=function(e){return Object(S.jsx)(u.a,{basename:"/QuickROIC",children:Object(S.jsx)(b.a,{injectFirst:!0,children:Object(S.jsx)(O.a,{theme:p,children:Object(S.jsx)(j.b,{theme:p,children:e.children})})})})},en=[{path:"/",component:Object(S.jsx)(G,{})},{path:"/new",component:Object(S.jsx)(de,{})},{path:"/table",component:Object(S.jsx)(Ve,{})},{path:"/scatter",component:Object(S.jsx)(Qe,{})},{path:"/tree",component:Object(S.jsx)(Ge,{})},{path:"/setting",component:Object(S.jsx)(Ze,{})}];var nn=function(){return Object(S.jsx)($e,{children:Object(S.jsx)(m.c,{children:en.map((function(e){return Object(S.jsx)(m.a,{path:e.path,exact:!0,children:e.component})}))})})},tn=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,456)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,i=n.getLCP,r=n.getTTFB;t(e),a(e),c(e),i(e),r(e)}))},an=(t(363),t(159)),cn=t(434),rn=t(426),on=t(425),sn=t.n(on)()({uri:"https://roic.mksyn.net/graphql/"}),ln=new an.a({link:sn,typeDefs:Q,cache:new cn.a({typePolicies:W})});d.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(rn.a,{client:ln,children:Object(S.jsx)(nn,{})})}),document.getElementById("root")),tn()}},[[374,1,2]]]);
//# sourceMappingURL=main.14d312b6.chunk.js.map